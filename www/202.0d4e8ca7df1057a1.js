"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[202],{202:(K,T,m)=>{m.r(T),m.d(T,{CapacitorGoogleMapsWeb:()=>kt});var c=m(467),C=m(5083),L=m(362),A=m.n(L);const S=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class R{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,s]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const n=s>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const r=S[15&s];if(!r)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new R(l,o,r,t)}constructor(t,e=64,s=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=s,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const r=S.indexOf(this.ArrayType),o=2*t*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,i=(8-l%8)%8;if(r<0)throw new Error(`Unexpected typed array class: ${s}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+l+i,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+o+l+i),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+l+i,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=t,this.coords[this._pos++]=e,s}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return $(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,s,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:o,nodeSize:l}=this,i=[0,r.length-1,0],u=[];for(;i.length;){const h=i.pop()||0,d=i.pop()||0,p=i.pop()||0;if(d-p<=l){for(let g=p;g<=d;g++){const v=o[2*g],k=o[2*g+1];v>=t&&v<=s&&k>=e&&k<=n&&u.push(r[g])}continue}const f=p+d>>1,y=o[2*f],w=o[2*f+1];y>=t&&y<=s&&w>=e&&w<=n&&u.push(r[f]),(0===h?t<=y:e<=w)&&(i.push(p),i.push(f-1),i.push(1-h)),(0===h?s>=y:n>=w)&&(i.push(f+1),i.push(d),i.push(1-h))}return u}within(t,e,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:r,nodeSize:o}=this,l=[0,n.length-1,0],i=[],u=s*s;for(;l.length;){const h=l.pop()||0,d=l.pop()||0,p=l.pop()||0;if(d-p<=o){for(let g=p;g<=d;g++)Q(r[2*g],r[2*g+1],t,e)<=u&&i.push(n[g]);continue}const f=p+d>>1,y=r[2*f],w=r[2*f+1];Q(y,w,t,e)<=u&&i.push(n[f]),(0===h?t-s<=y:e-s<=w)&&(l.push(p),l.push(f-1),l.push(1-h)),(0===h?t+s>=y:e+s>=w)&&(l.push(f+1),l.push(d),l.push(1-h))}return i}}function $(a,t,e,s,n,r){if(n-s<=e)return;const o=s+n>>1;Y(a,t,o,s,n,r),$(a,t,e,s,o-1,1-r),$(a,t,e,o+1,n,1-r)}function Y(a,t,e,s,n,r){for(;n>s;){if(n-s>600){const u=n-s+1,h=e-s+1,d=Math.log(u),p=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*p*(u-p)/u)*(h-u/2<0?-1:1);Y(a,t,e,Math.max(s,Math.floor(e-h*p/u+f)),Math.min(n,Math.floor(e+(u-h)*p/u+f)),r)}const o=t[2*e+r];let l=s,i=n;for(Z(a,t,s,e),t[2*n+r]>o&&Z(a,t,s,n);l<i;){for(Z(a,t,l,i),l++,i--;t[2*l+r]<o;)l++;for(;t[2*i+r]>o;)i--}t[2*s+r]===o?Z(a,t,s,i):(i++,Z(a,t,i,n)),i<=e&&(s=i+1),e<=i&&(n=i-1)}}function Z(a,t,e,s){j(a,e,s),j(t,2*e,2*s),j(t,2*e+1,2*s+1)}function j(a,t,e){const s=a[t];a[t]=a[e],a[e]=s}function Q(a,t,e,s){const n=a-e,r=t-s;return n*n+r*r}const ct={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:a=>a},X=Math.fround||(a=>t=>(a[0]=+t,a[0]))(new Float32Array(1));class tt{constructor(t){this.options=Object.assign(Object.create(ct),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:s,maxZoom:n}=this.options;e&&console.time("total time");const r=`prepare ${t.length} points`;e&&console.time(r),this.points=t;const o=[];for(let i=0;i<t.length;i++){const u=t[i];if(!u.geometry)continue;const[h,d]=u.geometry.coordinates,p=X(N(h)),f=X(_(d));o.push(p,f,1/0,i,-1,1),this.options.reduce&&o.push(0)}let l=this.trees[n+1]=this._createTree(o);e&&console.timeEnd(r);for(let i=n;i>=s;i--){const u=+Date.now();l=this.trees[i]=this._createTree(this._cluster(l,i)),e&&console.log("z%d: %d clusters in %dms",i,l.numItems,+Date.now()-u)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let s=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let r=180===t[2]?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)s=-180,r=180;else if(s>r){const d=this.getClusters([s,n,180,o],e),p=this.getClusters([-180,n,r,o],e);return d.concat(p)}const l=this.trees[this._limitZoom(e)],i=l.range(N(s),_(o),N(r),_(n)),u=l.data,h=[];for(const d of i){const p=this.stride*d;h.push(u[p+5]>1?et(u,p,this.clusterProps):this.points[u[p+3]])}return h}getChildren(t){const e=this._getOriginId(t),s=this._getOriginZoom(t),n="No cluster with the specified id.",r=this.trees[s];if(!r)throw new Error(n);const o=r.data;if(e*this.stride>=o.length)throw new Error(n);const l=this.options.radius/(this.options.extent*Math.pow(2,s-1)),h=r.within(o[e*this.stride],o[e*this.stride+1],l),d=[];for(const p of h){const f=p*this.stride;o[f+4]===t&&d.push(o[f+5]>1?et(o,f,this.clusterProps):this.points[o[f+3]])}if(0===d.length)throw new Error(n);return d}getLeaves(t,e,s){const n=[];return this._appendLeaves(n,t,e=e||10,s=s||0,0),n}getTile(t,e,s){const n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),{extent:o,radius:l}=this.options,i=l/o,u=(s-i)/r,h=(s+1+i)/r,d={features:[]};return this._addTileFeatures(n.range((e-i)/r,u,(e+1+i)/r,h),n.data,e,s,r,d),0===e&&this._addTileFeatures(n.range(1-i/r,u,1,h),n.data,r,s,r,d),e===r-1&&this._addTileFeatures(n.range(0,u,i/r,h),n.data,-1,s,r,d),d.features.length?d:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const s=this.getChildren(t);if(e++,1!==s.length)break;t=s[0].properties.cluster_id}return e}_appendLeaves(t,e,s,n,r){const o=this.getChildren(e);for(const l of o){const i=l.properties;if(i&&i.cluster?r+i.point_count<=n?r+=i.point_count:r=this._appendLeaves(t,i.cluster_id,s,n,r):r<n?r++:t.push(l),t.length===s)break}return r}_createTree(t){const e=new R(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let s=0;s<t.length;s+=this.stride)e.add(t[s],t[s+1]);return e.finish(),e.data=t,e}_addTileFeatures(t,e,s,n,r,o){for(const l of t){const i=l*this.stride,u=e[i+5]>1;let h,d,p;if(u)h=st(e,i,this.clusterProps),d=e[i],p=e[i+1];else{const w=this.points[e[i+3]];h=w.properties;const[g,v]=w.geometry.coordinates;d=N(g),p=_(v)}const f={type:1,geometry:[[Math.round(this.options.extent*(d*r-s)),Math.round(this.options.extent*(p*r-n))]],tags:h};let y;y=u||this.options.generateId?e[i+3]:this.points[e[i+3]].id,void 0!==y&&(f.id=y),o.features.push(f)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:s,extent:n,reduce:r,minPoints:o}=this.options,l=s/(n*Math.pow(2,e)),i=t.data,u=[],h=this.stride;for(let d=0;d<i.length;d+=h){if(i[d+2]<=e)continue;i[d+2]=e;const p=i[d],f=i[d+1],y=t.within(i[d],i[d+1],l),w=i[d+5];let g=w;for(const v of y){const k=v*h;i[k+2]>e&&(g+=i[k+5])}if(g>w&&g>=o){let E,v=p*w,k=f*w,at=-1;const J=(d/h<<5)+(e+1)+this.points.length;for(const At of y){const I=At*h;if(i[I+2]<=e)continue;i[I+2]=e;const lt=i[I+5];v+=i[I]*lt,k+=i[I+1]*lt,i[I+4]=J,r&&(E||(E=this._map(i,d,!0),at=this.clusterProps.length,this.clusterProps.push(E)),r(E,this._map(i,I)))}i[d+4]=J,u.push(v/g,k/g,1/0,J,-1,g),r&&u.push(at)}else{for(let v=0;v<h;v++)u.push(i[d+v]);if(g>1)for(const v of y){const k=v*h;if(!(i[k+2]<=e)){i[k+2]=e;for(let E=0;E<h;E++)u.push(i[k+E])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,s){if(t[e+5]>1){const o=this.clusterProps[t[e+6]];return s?Object.assign({},o):o}const n=this.points[t[e+3]].properties,r=this.options.map(n);return s&&r===n?Object.assign({},r):r}}function et(a,t,e){return{type:"Feature",id:a[t+3],properties:st(a,t,e),geometry:{type:"Point",coordinates:[dt(a[t]),ut(a[t+1])]}}}function st(a,t,e){const s=a[t+5],n=s>=1e4?`${Math.round(s/1e3)}k`:s>=1e3?Math.round(s/100)/10+"k":s,r=a[t+6],o=-1===r?{}:Object.assign({},e[r]);return Object.assign(o,{cluster:!0,cluster_id:a[t+3],point_count:s,point_count_abbreviated:n})}function N(a){return a/360+.5}function _(a){const t=Math.sin(a*Math.PI/180),e=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return e<0?0:e>1?1:e}function dt(a){return 360*(a-.5)}function ut(a){const t=(180-360*a)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}class M{static isAdvancedMarkerAvailable(t){return google.maps.marker&&!0===t.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,e){this.isAdvancedMarker(t)?t.map=e:t.setMap(e)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return!!this.isAdvancedMarker(t)||t.getVisible()}}class O{constructor({markers:t,position:e}){this.markers=t,e&&(this._position=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e))}get bounds(){if(0===this.markers.length&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const e of this.markers)t.extend(M.getPosition(e));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>M.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(M.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class V{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return gt(t)}}const gt=a=>a.map(e=>new O({position:M.getPosition(e),markers:[e]}));class it extends V{constructor(t){var{maxZoom:e,radius:s=60}=t,n=function D(a,t){var e={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(e[s]=a[s]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(a);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(a,s[n])&&(e[s[n]]=a[s[n]])}return e}(t,["maxZoom","radius"]);super({maxZoom:e}),this.state={zoom:-1},this.superCluster=new tt(Object.assign({maxZoom:this.maxZoom,radius:s},n))}calculate(t){let e=!1;const s={zoom:t.map.getZoom()};if(!A()(t.markers,this.markers)){e=!0,this.markers=[...t.markers];const n=this.markers.map(r=>{const o=M.getPosition(r);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:r}}});this.superCluster.load(n)}return e||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(e=!A()(this.state,s)),this.state=s,e&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:e}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster({geometry:{coordinates:[t,e]},properties:s}){if(s.cluster)return new O({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(r=>r.properties.marker),position:{lat:e,lng:t}});const n=s.marker;return new O({markers:[n],position:M.getPosition(n)})}}class yt{constructor(t,e){this.markers={sum:t.length};const s=e.map(r=>r.count),n=s.reduce((r,o)=>r+o,0);this.clusters={count:e.length,markers:{mean:n/e.length,sum:n,min:Math.min(...s),max:Math.max(...s)}}}}class Mt{render({count:t,position:e},s,n){const o=`<svg fill="${t>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>\n</svg>`,l=`Cluster of ${t} markers`,i=Number(google.maps.Marker.MAX_ZINDEX)+t;if(M.isAdvancedMarkerAvailable(n)){const d=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;return d.setAttribute("transform","translate(0 25)"),new google.maps.marker.AdvancedMarkerElement({map:n,position:e,zIndex:i,title:l,content:d})}const u={position:e,zIndex:i,title:l,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}class W{constructor(){!function wt(a,t){for(let e in t.prototype)a.prototype[e]=t.prototype[e]}(W,google.maps.OverlayView)}}var F=function(a){return a.CLUSTERING_BEGIN="clusteringbegin",a.CLUSTERING_END="clusteringend",a.CLUSTER_CLICK="click",a}(F||{});const vt=(a,t,e)=>{e.fitBounds(t.bounds)};class Lt extends W{constructor({map:t,markers:e=[],algorithmOptions:s={},algorithm:n=new it(s),renderer:r=new Mt,onClusterClick:o=vt}){super(),this.markers=[...e],this.clusters=[],this.algorithm=n,this.renderer=r,this.onClusterClick=o,t&&this.setMap(t)}addMarker(t,e){this.markers.includes(t)||(this.markers.push(t),e||this.render())}addMarkers(t,e){t.forEach(s=>{this.addMarker(s,!0)}),e||this.render()}removeMarker(t,e){const s=this.markers.indexOf(t);return-1!==s&&(M.setMap(t,null),this.markers.splice(s,1),e||this.render(),!0)}removeMarkers(t,e){let s=!1;return t.forEach(n=>{s=this.removeMarker(n,!0)||s}),s&&!e&&this.render(),s}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,F.CLUSTERING_BEGIN,this);const{clusters:e,changed:s}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(s||null==s){const n=new Set;for(const o of e)1==o.markers.length&&n.add(o.markers[0]);const r=[];for(const o of this.clusters)null!=o.marker&&(1==o.markers.length?n.has(o.marker)||M.setMap(o.marker,null):r.push(o.marker));this.clusters=e,this.renderClusters(),requestAnimationFrame(()=>r.forEach(o=>M.setMap(o,null)))}google.maps.event.trigger(this,F.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>M.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new yt(this.markers,this.clusters),e=this.getMap();this.clusters.forEach(s=>{1===s.markers.length?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,t,e),s.markers.forEach(n=>M.setMap(n,null)),this.onClusterClick&&s.marker.addListener("click",n=>{google.maps.event.trigger(this,F.CLUSTER_CLICK,s),this.onClusterClick(n,s,e)})),M.setMap(s.marker,e)})}}var z=m(9169);class kt extends C.E_{constructor(){super(...arguments),this.gMapsRef=void 0,this.AdvancedMarkerElement=void 0,this.PinElement=void 0,this.maps={},this.currMarkerId=0,this.currPolygonId=0,this.currCircleId=0,this.currPolylineId=0,this.currMapId=0,this.onClusterClickHandler=(t,e,s)=>{var n;const r=this.getIdFromMap(s),o=[];if(null!=e.markers&&this.AdvancedMarkerElement)for(const l of e.markers)if(l instanceof this.AdvancedMarkerElement){const i=this.getIdFromMarker(r,l),u=l.position;o.push({markerId:i,latitude:u.lat,longitude:u.lng,title:null!==(n=l.title)&&void 0!==n?n:"",snippet:""})}this.notifyListeners("onClusterClick",{mapId:r,latitude:e.position.lat,longitude:e.position.lng,size:e.count,items:o})}}getIdFromMap(t){for(const e in this.maps)if(this.maps[e].map==t)return e;return""}getIdFromMarker(t,e){for(const s in this.maps[t].markers)if(this.maps[t].markers[s]==e)return s;return""}importGoogleLib(t,e,s){var n=this;return(0,c.A)(function*(){if(void 0===n.gMapsRef){const r=yield m.e(1692).then(m.bind(m,1692)),l=yield new r.Loader({apiKey:null!=t?t:"",version:"weekly",libraries:["places"],language:s,region:e}).load();n.gMapsRef=l.maps;const{AdvancedMarkerElement:i,PinElement:u}=yield l.maps.importLibrary("marker");n.AdvancedMarkerElement=i,n.PinElement=u,console.log("Loaded google maps API")}})()}enableTouch(t){var e=this;return(0,c.A)(function*(){e.maps[t.id].map.setOptions({gestureHandling:"auto"})})()}disableTouch(t){var e=this;return(0,c.A)(function*(){e.maps[t.id].map.setOptions({gestureHandling:"none"})})()}setCamera(t){var e=this;return(0,c.A)(function*(){e.maps[t.id].map.moveCamera({center:t.config.coordinate,heading:t.config.bearing,tilt:t.config.angle,zoom:t.config.zoom})})()}getMapType(t){var e=this;return(0,c.A)(function*(){let s=e.maps[t.id].map.getMapTypeId();if(void 0!==s)return"roadmap"===s&&(s=z.N.Normal),{type:`${s.charAt(0).toUpperCase()}${s.slice(1)}`};throw new Error("Map type is undefined")})()}setMapType(t){var e=this;return(0,c.A)(function*(){let s=t.mapType.toLowerCase();t.mapType===z.N.Normal&&(s="roadmap"),e.maps[t.id].map.setMapTypeId(s)})()}enableIndoorMaps(){return(0,c.A)(function*(){throw new Error("Method not supported on web.")})()}enableTrafficLayer(t){var e=this;return(0,c.A)(function*(){var s;const n=null!==(s=e.maps[t.id].trafficLayer)&&void 0!==s?s:new google.maps.TrafficLayer;t.enabled?(n.setMap(e.maps[t.id].map),e.maps[t.id].trafficLayer=n):e.maps[t.id].trafficLayer&&(n.setMap(null),e.maps[t.id].trafficLayer=void 0)})()}enableAccessibilityElements(){return(0,c.A)(function*(){throw new Error("Method not supported on web.")})()}dispatchMapEvent(){throw new Error("Method not supported on web.")}enableCurrentLocation(t){var e=this;return(0,c.A)(function*(){if(t.enabled){if(!navigator.geolocation)throw new Error("Geolocation not supported on web browser.");navigator.geolocation.getCurrentPosition(s=>{e.maps[t.id].map.setCenter({lat:s.coords.latitude,lng:s.coords.longitude}),e.notifyListeners("onMyLocationButtonClick",{}),e.notifyListeners("onMyLocationClick",{})},()=>{throw new Error("Geolocation not supported on web browser.")})}})()}setPadding(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id].map.getBounds();void 0!==s&&e.maps[t.id].map.fitBounds(s,t.padding)})()}getMapBounds(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id].map.getBounds();if(!s)throw new Error("Google Map Bounds could not be found.");return new z.q({southwest:{lat:s.getSouthWest().lat(),lng:s.getSouthWest().lng()},center:{lat:s.getCenter().lat(),lng:s.getCenter().lng()},northeast:{lat:s.getNorthEast().lat(),lng:s.getNorthEast().lng()}})})()}fitBounds(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id].map,n=e.getLatLngBounds(t.bounds);s.fitBounds(n,t.padding)})()}addMarkers(t){var e=this;return(0,c.A)(function*(){const s=[],n=e.maps[t.id];for(const r of t.markers){const o=e.buildMarkerOpts(r,n.map),l=""+e.currMarkerId;n.markers[l]=o,yield e.setMarkerListeners(t.id,l,o),s.push(l),e.currMarkerId++}return{ids:s}})()}addMarker(t){var e=this;return(0,c.A)(function*(){const s=e.buildMarkerOpts(t.marker,e.maps[t.id].map),n=""+e.currMarkerId;return e.maps[t.id].markers[n]=s,yield e.setMarkerListeners(t.id,n,s),e.currMarkerId++,{id:n}})()}removeMarkers(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id];for(const n of t.markerIds)s.markers[n]&&(s.markers[n].map=null,delete s.markers[n])})()}removeMarker(t){var e=this;return(0,c.A)(function*(){e.maps[t.id].markers[t.markerId]&&(e.maps[t.id].markers[t.markerId].map=null,delete e.maps[t.id].markers[t.markerId])})()}addPolygons(t){var e=this;return(0,c.A)(function*(){const s=[],n=e.maps[t.id];for(const r of t.polygons){const o=new google.maps.Polygon(r);o.setMap(n.map);const l=""+e.currPolygonId;e.maps[t.id].polygons[l]=o,e.setPolygonListeners(t.id,l,o),s.push(l),e.currPolygonId++}return{ids:s}})()}removePolygons(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id];for(const n of t.polygonIds)s.polygons[n].setMap(null),delete s.polygons[n]})()}addCircles(t){var e=this;return(0,c.A)(function*(){const s=[],n=e.maps[t.id];for(const r of t.circles){const o=new google.maps.Circle(r);o.setMap(n.map);const l=""+e.currCircleId;e.maps[t.id].circles[l]=o,e.setCircleListeners(t.id,l,o),s.push(l),e.currCircleId++}return{ids:s}})()}removeCircles(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id];for(const n of t.circleIds)s.circles[n].setMap(null),delete s.circles[n]})()}addPolylines(t){var e=this;return(0,c.A)(function*(){const s=[],n=e.maps[t.id];for(const r of t.polylines){const o=new google.maps.Polyline(r);o.set("tag",r.tag),o.setMap(n.map);const l=""+e.currPolylineId;e.maps[t.id].polylines[l]=o,e.setPolylineListeners(t.id,l,o),s.push(l),e.currPolylineId++}return{ids:s}})()}removePolylines(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id];for(const n of t.polylineIds)s.polylines[n].setMap(null),delete s.polylines[n]})()}enableClustering(t){var e=this;return(0,c.A)(function*(){var s;const n=[];for(const r in e.maps[t.id].markers)n.push(e.maps[t.id].markers[r]);e.maps[t.id].markerClusterer=new Lt({map:e.maps[t.id].map,markers:n,algorithm:new it({minPoints:null!==(s=t.minClusterSize)&&void 0!==s?s:4}),onClusterClick:e.onClusterClickHandler})})()}disableClustering(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t.id];if(s.markerClusterer){const n=Object.values(s.markers);s.markerClusterer.setMap(null),s.markerClusterer=void 0;for(const r of n)r.map=s.map}})()}onScroll(){return(0,c.A)(function*(){throw new Error("Method not supported on web.")})()}onResize(){return(0,c.A)(function*(){throw new Error("Method not supported on web.")})()}onDisplay(){return(0,c.A)(function*(){throw new Error("Method not supported on web.")})()}create(t){var e=this;return(0,c.A)(function*(){console.log(`Create map: ${t.id}`),yield e.importGoogleLib(t.apiKey,t.region,t.language);const s=Object.assign({},t.config);s.mapId||(s.mapId="capacitor_map_"+e.currMapId++),e.maps[t.id]={map:new window.google.maps.Map(t.element,s),element:t.element,markers:{},polygons:{},circles:{},polylines:{}},e.setMapListeners(t.id)})()}destroy(t){var e=this;return(0,c.A)(function*(){console.log(`Destroy map: ${t.id}`);const s=e.maps[t.id];s.element.innerHTML="",s.map.unbindAll(),delete e.maps[t.id]})()}mapBoundsContains(t){var e=this;return(0,c.A)(function*(){const s=e.getLatLngBounds(t.bounds),n=new google.maps.LatLng(t.point.lat,t.point.lng);return{contains:s.contains(n)}})()}mapBoundsExtend(t){var e=this;return(0,c.A)(function*(){const s=e.getLatLngBounds(t.bounds),n=new google.maps.LatLng(t.point.lat,t.point.lng);return s.extend(n),{bounds:new z.q({southwest:{lat:s.getSouthWest().lat(),lng:s.getSouthWest().lng()},center:{lat:s.getCenter().lat(),lng:s.getCenter().lng()},northeast:{lat:s.getNorthEast().lat(),lng:s.getNorthEast().lng()}})}})()}getLatLngBounds(t){return new google.maps.LatLngBounds(new google.maps.LatLng(t.southwest.lat,t.southwest.lng),new google.maps.LatLng(t.northeast.lat,t.northeast.lng))}setCircleListeners(t,e,s){var n=this;return(0,c.A)(function*(){s.addListener("click",()=>{n.notifyListeners("onCircleClick",{mapId:t,circleId:e,tag:s.get("tag")})})})()}setPolygonListeners(t,e,s){var n=this;return(0,c.A)(function*(){s.addListener("click",()=>{n.notifyListeners("onPolygonClick",{mapId:t,polygonId:e,tag:s.get("tag")})})})()}setPolylineListeners(t,e,s){var n=this;return(0,c.A)(function*(){s.addListener("click",()=>{n.notifyListeners("onPolylineClick",{mapId:t,polylineId:e,tag:s.get("tag")})})})()}setMarkerListeners(t,e,s){var n=this;return(0,c.A)(function*(){s.addListener("click",()=>{var r;const o=s.position;n.notifyListeners("onMarkerClick",{mapId:t,markerId:e,latitude:o.lat,longitude:o.lng,title:null!==(r=s.title)&&void 0!==r?r:"",snippet:""})}),s.gmpDraggable&&(s.addListener("dragstart",()=>{var r;const o=s.position;n.notifyListeners("onMarkerDragStart",{mapId:t,markerId:e,latitude:o.lat,longitude:o.lng,title:null!==(r=s.title)&&void 0!==r?r:"",snippet:""})}),s.addListener("drag",()=>{var r;const o=s.position;n.notifyListeners("onMarkerDrag",{mapId:t,markerId:e,latitude:o.lat,longitude:o.lng,title:null!==(r=s.title)&&void 0!==r?r:"",snippet:""})}),s.addListener("dragend",()=>{var r;const o=s.position;n.notifyListeners("onMarkerDragEnd",{mapId:t,markerId:e,latitude:o.lat,longitude:o.lng,title:null!==(r=s.title)&&void 0!==r?r:"",snippet:""})}))})()}setMapListeners(t){var e=this;return(0,c.A)(function*(){const s=e.maps[t].map;s.addListener("idle",(0,c.A)(function*(){var n,r;const o=yield e.getMapBounds({id:t});e.notifyListeners("onCameraIdle",{mapId:t,bearing:s.getHeading(),bounds:o,latitude:null===(n=s.getCenter())||void 0===n?void 0:n.lat(),longitude:null===(r=s.getCenter())||void 0===r?void 0:r.lng(),tilt:s.getTilt(),zoom:s.getZoom()})})),s.addListener("center_changed",()=>{e.notifyListeners("onCameraMoveStarted",{mapId:t,isGesture:!0})}),s.addListener("bounds_changed",(0,c.A)(function*(){var n,r;const o=yield e.getMapBounds({id:t});e.notifyListeners("onBoundsChanged",{mapId:t,bearing:s.getHeading(),bounds:o,latitude:null===(n=s.getCenter())||void 0===n?void 0:n.lat(),longitude:null===(r=s.getCenter())||void 0===r?void 0:r.lng(),tilt:s.getTilt(),zoom:s.getZoom()})})),s.addListener("click",n=>{var r,o;e.notifyListeners("onMapClick",{mapId:t,latitude:null===(r=n.latLng)||void 0===r?void 0:r.lat(),longitude:null===(o=n.latLng)||void 0===o?void 0:o.lng()})}),e.notifyListeners("onMapReady",{mapId:t})})()}buildMarkerOpts(t,e){var s;if(!this.AdvancedMarkerElement||!this.PinElement)throw new Error("Marker library not loaded");let n;if(t.iconUrl){const o=document.createElement("img");o.src=t.iconUrl,t.iconSize&&(o.style.width=`${t.iconSize.width}px`,o.style.height=`${t.iconSize.height}px`),n=o}else{const o={scale:null!==(s=t.opacity)&&void 0!==s?s:1,glyph:t.title,background:t.tintColor?`rgb(${t.tintColor.r}, ${t.tintColor.g}, ${t.tintColor.b})`:void 0};n=new this.PinElement(o).element}return new this.AdvancedMarkerElement({position:t.coordinate,map:e,content:n,title:t.title,gmpDraggable:t.draggable})}}},362:K=>{K.exports=function T(m,c){if(m===c)return!0;if(m&&c&&"object"==typeof m&&"object"==typeof c){if(m.constructor!==c.constructor)return!1;var C,L,A;if(Array.isArray(m)){if((C=m.length)!=c.length)return!1;for(L=C;0!=L--;)if(!T(m[L],c[L]))return!1;return!0}if(m.constructor===RegExp)return m.source===c.source&&m.flags===c.flags;if(m.valueOf!==Object.prototype.valueOf)return m.valueOf()===c.valueOf();if(m.toString!==Object.prototype.toString)return m.toString()===c.toString();if((C=(A=Object.keys(m)).length)!==Object.keys(c).length)return!1;for(L=C;0!=L--;)if(!Object.prototype.hasOwnProperty.call(c,A[L]))return!1;for(L=C;0!=L--;){var S=A[L];if(!T(m[S],c[S]))return!1}return!0}return m!=m&&c!=c}}}]);