"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4404],{4404:(w,p,a)=>{a.r(p),a.d(p,{Tab4PageModule:()=>E});var r=a(7125),c=a(8834),_=a(9417),m=a(5528),n=a(9498),u=a(467),f=a(4909),d=a(3067),g=a(3975);const h=()=>["/edit-profile"];function F(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",13),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&e){const i=n.XpG();n.R7$(3),n.JRh(i.user.address)}}function P(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",14),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&e){const i=n.XpG();n.R7$(3),n.SpI("Estado de cuenta: ",i.user.accountStatus,"")}}function k(e,l){1&e&&(n.j41(0,"p"),n.EFF(1,"Imagen"),n.k0s())}function v(e,l){if(1&e){const i=n.RV6();n.j41(0,"ion-item",16),n.bIt("click",function(){const t=n.eBV(i).$implicit,s=n.XpG(2);return n.Njj(s.preview(t))}),n.j41(1,"ion-thumbnail",17),n.nrm(2,"ion-img",18),n.k0s(),n.j41(3,"ion-label")(4,"h3"),n.EFF(5),n.k0s(),n.DNE(6,k,2,0,"p",9),n.k0s(),n.j41(7,"ion-buttons",0)(8,"ion-button",19),n.bIt("click",function(t){const s=n.eBV(i).$implicit;return n.XpG(2).preview(s),n.Njj(t.stopPropagation())}),n.nrm(9,"ion-icon",20),n.k0s(),n.j41(10,"ion-button",19),n.bIt("click",function(t){const s=n.eBV(i).$implicit;return n.XpG(2).download(s),n.Njj(t.stopPropagation())}),n.nrm(11,"ion-icon",21),n.k0s()()()}if(2&e){const i=l.$implicit;n.R7$(2),n.FS9("alt",i.name),n.Y8G("src",i.url),n.R7$(3),n.JRh(i.name),n.R7$(),n.Y8G("ngIf","image"===i.type)}}function b(e,l){if(1&e&&(n.j41(0,"ion-list")(1,"ion-item")(2,"ion-list-header"),n.EFF(3,"Documentos"),n.k0s()(),n.DNE(4,v,12,4,"ion-item",15),n.k0s()),2&e){const i=n.XpG();n.R7$(4),n.Y8G("ngForOf",null==i.company?null:i.company.images)}}function C(e,l){if(1&e){const i=n.RV6();n.j41(0,"ion-list")(1,"ion-list-header"),n.EFF(2,"Padre de familia"),n.k0s(),n.j41(3,"ion-item",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.viewChildren())}),n.EFF(4,"Ver hijos"),n.k0s(),n.j41(5,"ion-item",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.viewPaymentHistory())}),n.EFF(6,"Historial de pagos"),n.k0s()()}}function j(e,l){if(1&e){const i=n.RV6();n.j41(0,"ion-list")(1,"ion-list-header"),n.EFF(2,"Chofer"),n.k0s(),n.j41(3,"ion-item",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.viewRoutes())}),n.EFF(4,"Mis rutas"),n.k0s(),n.j41(5,"ion-item",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.viewVehicle())}),n.EFF(6,"Informaci\xf3n del veh\xedculo"),n.k0s()()}}function T(e,l){if(1&e){const i=n.RV6();n.j41(0,"ion-list")(1,"ion-list-header"),n.EFF(2,"Administrativo"),n.k0s(),n.j41(3,"ion-item",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.manageUsers())}),n.EFF(4,"Administrar usuarios"),n.k0s(),n.j41(5,"ion-item",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.viewReports())}),n.EFF(6,"Ver reportes"),n.k0s()()}}function R(e,l){if(1&e&&n.nrm(0,"ion-img",18),2&e){const i=n.XpG(2);n.FS9("alt",null==i.activeFile?null:i.activeFile.name),n.Y8G("src",null==i.activeFile?null:i.activeFile.url)}}function x(e,l){if(1&e){const i=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3),n.k0s(),n.j41(4,"ion-buttons",0)(5,"ion-button",16),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.viewerOpen=!1)}),n.nrm(6,"ion-icon",22),n.k0s()()()(),n.j41(7,"ion-content",3),n.DNE(8,R,1,2,"ion-img",23),n.k0s()}if(2&e){const i=n.XpG();n.R7$(3),n.JRh(null==i.activeFile?null:i.activeFile.name),n.R7$(5),n.Y8G("ngIf","image"===(null==i.activeFile?null:i.activeFile.type))}}let y=(()=>{var e;class l{constructor(o,t,s){this.translate=o,this.authService=t,this.router=s,this.user={},this.company={},this.companyFiles=[{id:11,name:"Datos de Transferencia",sequence:10,url:"https://kabaygroup.com/api/image/company.image/11/image_1920/",type:"image"},{id:12,name:"Contrato de Servicio",sequence:10,url:"https://kabaygroup.com/api/image/company.image/12/image_1920/",type:"image"}],this.viewerOpen=!1,this.parent=null,this.handleActionClient=new n.bkB}preview(o){this.activeFile=o,this.viewerOpen=!0}download(o){const t=document.createElement("a");t.href=o.url,t.target="_blank",t.download=(o.name||"documento").replace(/\s+/g,"_"),t.click()}editProfile(){console.log("Editar perfil")}goToSettings(){console.log("Ir a configuraci\xf3n")}logoutAndGoToSignIn(){var o=this;return(0,u.A)(function*(){yield o.authService.logout(),o.router.navigate(["/sign-in"])})()}ngOnInit(){var o;const t=JSON.parse(null!==(o=localStorage.getItem("userData"))&&void 0!==o?o:"{}");this.user=null==t?void 0:t.userInfo,this.company=null==t?void 0:t.company,console.log(this.user,"l;l;l;l")}viewChildren(){}viewPaymentHistory(){}viewRoutes(){}viewVehicle(){}manageUsers(){}viewReports(){}changeLanguage(o){this.translate.use(o="es"==o?"en":"es")}showDetails(){this.handleActionClient.emit("edit")}}return(e=l).\u0275fac=function(o){return new(o||e)(n.rXU(f.c$),n.rXU(d.u),n.rXU(g.t))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-profile"]],inputs:{parent:"parent"},outputs:{handleActionClient:"handleActionClient"},standalone:!1,decls:35,vars:14,consts:[["slot","end"],["routerDirection","forward",3,"routerLink"],["slot","icon-only","name","create-outline"],[1,"ion-padding"],[1,"profile-header","ion-text-center"],[1,"profile-avatar"],["alt","Foto",3,"src"],["name","mail-outline","slot","start"],["name","call-outline","slot","start"],[4,"ngIf"],[1,"btn"],["expand","block","fill","clear","color","medium",1,"logout",3,"click"],[3,"didDismiss","isOpen"],["name","location-outline","slot","start"],["name","wallet-outline","slot","start"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["slot","start"],[3,"src","alt"],["fill","clear",3,"click"],["name","eye-outline"],["name","download-outline"],["slot","icon-only","name","close-outline"],[3,"src","alt",4,"ngIf"]],template:function(o,t){1&o&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Perfil"),n.k0s(),n.j41(4,"ion-buttons",0)(5,"ion-button",1),n.nrm(6,"ion-icon",2),n.k0s()()()(),n.j41(7,"ion-content",3)(8,"div",4)(9,"ion-avatar",5),n.nrm(10,"img",6),n.k0s(),n.j41(11,"h2"),n.EFF(12),n.k0s(),n.j41(13,"p"),n.EFF(14),n.k0s()(),n.j41(15,"ion-list")(16,"ion-item"),n.nrm(17,"ion-icon",7),n.j41(18,"ion-label"),n.EFF(19),n.k0s()(),n.j41(20,"ion-item"),n.nrm(21,"ion-icon",8),n.j41(22,"ion-label"),n.EFF(23),n.k0s()(),n.DNE(24,F,4,1,"ion-item",9)(25,P,4,1,"ion-item",9),n.k0s(),n.DNE(26,b,5,1,"ion-list",9),n.j41(27,"div",10)(28,"ion-button",11),n.bIt("click",function(){return t.logoutAndGoToSignIn()}),n.EFF(29," Cerrar sesi\xf3n "),n.k0s()(),n.DNE(30,C,7,0,"ion-list",9)(31,j,7,0,"ion-list",9)(32,T,7,0,"ion-list",9),n.k0s(),n.j41(33,"ion-modal",12),n.bIt("didDismiss",function(){return t.viewerOpen=!1}),n.DNE(34,x,9,2,"ng-template"),n.k0s()),2&o&&(n.R7$(5),n.Y8G("routerLink",n.lJ4(13,h)),n.R7$(5),n.Y8G("src",t.user.image||"assets/img/profile-placeholder.png",n.B4B),n.R7$(2),n.JRh(t.user.name),n.R7$(2),n.JRh(t.user.role),n.R7$(5),n.JRh(t.user.email||"No Data"),n.R7$(4),n.JRh(t.user.phone),n.R7$(),n.Y8G("ngIf",t.user.address),n.R7$(),n.Y8G("ngIf",t.user.accountStatus),n.R7$(),n.Y8G("ngIf",null==t.company||null==t.company.images?null:t.company.images.length),n.R7$(4),n.Y8G("ngIf","Padre"===t.user.role),n.R7$(),n.Y8G("ngIf","Chofer"===t.user.role),n.R7$(),n.Y8G("ngIf","Administrador"===t.user.role),n.R7$(),n.Y8G("isOpen",t.viewerOpen))},dependencies:[r.mC,r.Jm,r.QW,r.W9,r.eU,r.iq,r.KW,r.uz,r.he,r.nf,r.AF,r.Zx,r.BC,r.ai,r.Sb,r.N7,c.G,c.I,m.R],styles:[".profile-header[_ngcontent-%COMP%]{margin-top:24px}.profile-header[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:170px;height:172px;margin:0 auto 10px;border:3px solid #3880ff;box-shadow:0 2px 10px #00000026}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px 0 0;font-size:20px}.profile-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-text-placeholder-color);font-size:14px}.btn[_ngcontent-%COMP%]{margin-top:25px}.btn[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{margin-top:25px;border:1px solid #000;border-radius:9px;font-weight:800}ion-thumbnail[_ngcontent-%COMP%]{width:56px;height:56px;--border-radius: 8px}ion-modal[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{display:block;max-width:100%;height:auto;border-radius:12px}ion-list-header[_ngcontent-%COMP%]{padding-bottom:25px;margin-top:10px}"]}),l})();const G=[{path:"",component:(()=>{var e;class l{}return(e=l).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-tab4"]],standalone:!1,decls:2,vars:0,template:function(o,t){1&o&&(n.j41(0,"ion-content"),n.nrm(1,"app-profile"),n.k0s())},dependencies:[r.W9,y],encapsulation:2}),l})()}];let I=(()=>{var e;class l{}return(e=l).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[m.m.forChild(G),m.m]}),l})(),E=(()=>{var e;class l{}return(e=l).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[r.bv,c.D,_.YN,I,_.X1]}),l})()}}]);